<ng-container *ngIf="isLoading; then spinner; else table"></ng-container>
<ng-template #spinner>
    <mat-spinner class="spinner-center"></mat-spinner>
</ng-template>
<ng-template #table>
    <mat-card style="margin:10px;">
        <table class="table table-bordered table-hover table-striped">
            <thead class=" thead-dark">
                <tr style="text-align: center;">
                    <th scope="col" name="piloto">Liga
                        <mat-icon *ngIf="direct === 'desc'" (click)="sort('nombre')">
                            keyboard_arrow_down</mat-icon>
                        <mat-icon *ngIf="direct === 'asc'" (click)="sort('nombre')">
                            keyboard_arrow_up</mat-icon>
                    </th>
                    <th scope="col">Numero participantes
                        <mat-icon *ngIf="direct === 'desc'" (click)="sort('escuderia')">
                            keyboard_arrow_down</mat-icon>
                        <mat-icon *ngIf="direct === 'asc'" (click)="sort('escuderia')">
                            keyboard_arrow_up</mat-icon>
                    </th>
                    <th scope="col" style="text-align: center;">Maximo Participantes<mat-icon *ngIf="direct === 'desc'"
                            (click)="sort('puntos')">
                            keyboard_arrow_down</mat-icon>
                        <mat-icon *ngIf="direct === 'asc'" (click)="sort('puntos')">
                            keyboard_arrow_up</mat-icon>
                    </th>
                    <th>
                    </th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let liga of ligas" class="table-dark " style="color:#9D0000;text-align: center;">
                    <td>
                        {{liga.nombre_liga}}
                    </td>
                    <td>
                        {{liga.numParticipantes}}
                    </td>
                    <td>
                        {{liga.maxParticipantes}}
                    </td>
                    <td style="text-align: center;">
                        <button class="btn btn-danger" type="button" (click)="anadirUsuario(liga)">
                            Entrar
                        </button>
                    </td>
                </tr>
                <tr *ngIf="ligas.length === 0">
                    <td colspan="4" style="text-align: center;">
                        <span>No hay ligas para unirse</span>
                    </td>

                </tr>

            </tbody>
        </table>


    </mat-card>

</ng-template>